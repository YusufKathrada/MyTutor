<ion-header>
  <ion-toolbar>
    <ion-title>Upload Time Slots</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ion-grid>
    <ion-row>

      <!-- <ion-col size="2" style="padding-left: 8px; font-weight: bold;">
        Course
      </ion-col> -->

      <!-- <ion-col size="2" style="padding-left: 28px; padding-top: 0px;">
        <ion-input
          aria-label="Course"
          placeholder="Course"
          class="custom"
          (ionChange)="setCourse($event)"
          [(ngModel)]="course"
        ></ion-input>
      </ion-col> -->

      <ion-list>
        <ion-select class="custom-select-course"  placeholder="Select Course" fill="outline" aria-label="Course" interface="popover" [(ngModel)]="course" (ionChange)="setCourse($event)">
          <ion-select-option [value]="a.name" *ngFor="let a of allCourses">
            {{a.name}}
          </ion-select-option>
        </ion-select>
      </ion-list>


      <ion-col size="8"></ion-col>
    </ion-row>

    <br><br>

    <!-- Headings -->
    <ion-row style="text-align: center; font-weight: bold;">
      <ion-col>
        Event
      </ion-col>

      <ion-col>
        Day
      </ion-col>

      <ion-col>
        Start Time
      </ion-col>

      <ion-col>
        End Time
      </ion-col>

      <ion-col>
        Tutors Needed
      </ion-col>

      <ion-col>
        Venue
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Inputs -->
  <ion-grid style="padding-top: 0px;">
    <form [formGroup]="eventForm">
      <div formArrayName="sessions">
        <ion-row *ngFor="let sessionCtrl of sessions.controls; let i = index" [formGroupName]="i">

          <!-- <ion-col>
            <ion-input
              aria-label="Tutorial Number"
              placeholder="Event"
              class="custom"
              formControlName="eventType"
              required="true"
            ></ion-input>
          </ion-col> -->

          <ion-col>
            <ion-list>
              <ion-select class="custom-select" fill="outline" interface="popover" [(ngModel)]="eventType" placeholder="Select Event">
                <ion-select-option [value]="s.description" *ngFor="let s of sessionTypes">
                  {{s.description}}
                </ion-select-option>
              </ion-select>
            </ion-list>
          </ion-col>

          <!-- <ion-col>
            <ion-input
              aria-label="Day"
              placeholder="Day"
              class="custom"
              formControlName="day"
            ></ion-input>
          </ion-col> -->

          <ion-col>
            <ion-list>
              <ion-select class="custom-select" fill="outline" interface="popover" [(ngModel)]="day" placeholder="Select Day">
                <ion-select-option [value]="d" *ngFor="let d of days">
                  {{d}}
                </ion-select-option>
              </ion-select>
            </ion-list>
          </ion-col>

          <!-- <ion-col>
            <ion-input
              aria-label="Start Time"
              placeholder="Start Time"
              class="custom"
              formControlName="startTime"
            ></ion-input>
          </ion-col> -->

          <ion-col>
            <!-- <ion-datetime-button datetime="datetime"></ion-datetime-button>

            <ion-modal [keepContentsMounted]="true">
              <ng-template>
                <ion-datetime id="datetime" displayFormat="HH:mm"></ion-datetime>
              </ng-template>
            </ion-modal> -->

            <ion-datetime-button datetime="startTime"> </ion-datetime-button>

            <ion-modal [keepContentsMounted]="true">
              <ng-template>
                <ion-datetime id="startTime" presentation="time" showDefaultButtons="true"  hourCycle="h23"> </ion-datetime>
              </ng-template>
            </ion-modal>
          </ion-col>

          <ion-col>
            <!-- <ion-input
              aria-label="End Time"
              placeholder="End TIme"
              class="custom"
              formControlName="endTime"
            ></ion-input> -->

            <ion-datetime-button datetime="endTime"> </ion-datetime-button>

            <ion-modal [keepContentsMounted]="true">
              <ng-template>
                <ion-datetime id="endTime" presentation="time" showDefaultButtons="true"  hourCycle="h23"></ion-datetime>
              </ng-template>
            </ion-modal>
          </ion-col>

          <ion-col>
            <ion-input
              aria-label="Tutors Needed"
              placeholder="Tutors Needed"
              class="custom"
              formControlName="tutorsNeeded"
            ></ion-input>
          </ion-col>

          <ion-col>
            <ion-input
              aria-label="Venue"
              placeholder="Venue"
              class="custom"
              formControlName="venue"
            ></ion-input>
          </ion-col>

        </ion-row>
      </div>
    </form>
  </ion-grid>

  <div style="display: flex; justify-content: space-between; font-size:10px">
    <div>
      <ion-button fill="clear" (click)="addItem()" style="font-size: 10px;">
        Add an event
        <ion-icon slot="end" name="add-outline"></ion-icon>
      </ion-button>
      <ion-button fill="clear" (click)="removeLastSession()" style="font-size: 10px;">
        Remove last event
        <ion-icon slot="end" name="remove-outline"></ion-icon>
      </ion-button>
    </div>

    <ion-button class="submit-button" (click)="validate()">Submit</ion-button>
  </div>

  <!-- <br><br> -->

  <ion-grid>
    <ion-row>
      <ion-col size="4" style="padding-left: 8px; font-weight: bold;">
        View Events
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-list>
        <ion-select class="custom-select-course" fill="outline" interface="popover" placeholder="Course" (ionChange)="selectCourse($event)">
          <ion-select-option *ngFor="let course of courses" [value]="course">
            {{course}}
          </ion-select-option>
        </ion-select>
      </ion-list>
    </ion-row>

    <ion-row style="text-align: center; font-weight: bold;">
      <ion-col>
        Event
      </ion-col>

      <ion-col>
        Day
      </ion-col>

      <ion-col>
        Times
      </ion-col>

      <ion-col>
        Tutors Needed
      </ion-col>

      <ion-col>
        Venue
      </ion-col>
    </ion-row>

    <ion-row *ngFor="let event of showCourseEvents" style="text-align: center;">
      <ion-col>
        {{event.description}}
      </ion-col>

      <ion-col>
        {{event.day}}
      </ion-col>

      <ion-col>
        {{event.startTime}} - {{event.endTime}}
      </ion-col>

      <ion-col>
        {{event.tutorsNeeded}}
      </ion-col>

      <ion-col>
        {{event.venue}}
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
